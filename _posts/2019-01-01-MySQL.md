---
title: "MySQL 学习日志"
excerpt: "MySQL"
# classes: wide
categories:
-   Coding
tags:
-   MySQL
create_at: 2019-01-01
last_modified_at: 2020-05-25
toc: true
toc_label: "文章提纲"
toc_icon: "book-reader"
toc_sticky: true
---

## errors

### timezone

-   MySQL 8.0 加入对 UTC 支持后，连接会出错，可以使用 Custom 方式输入连接串，在连接串的最后加入 `?serverTimezone=UTC` 即可
    -   完整连接串：`jdbc:mysql://localhost:3306/mysql?serverTimezone=UTC `

### 1206

1206 - The total number of locks exceeds the lock table size

进入 MySQL 的 Command Line

输入 `show variables like "%_buffer%";`

默认的 `innodb_buffer_pool_size=8388608` 8M

修改为 `SET GLOBAL innodb_buffer_pool_size=1073741824` 1G

这个修改的是临时的，如果需要永久修改，可以去 my.ini 文件中修改

【注】：在 Windows 下不要使用 Notepad 修改，否则文件格式会变成 UTF-8 with BOM 格式，格式改变后会导致服务无法正常启动！

## Server

### Startup & Shutdown

使用 Windows Service 启动 和 停止

```bat
REM mysql80 是服务名称
net start mysql80
net stop mysql80
```

使用 Command Line 启动 和 停止

```bat
cd C:\Program Files\MySQL\MySQL Server 8.0\bin
mysqld --defaults-file="C:\ProgramData\MySQL\MySQL Server 8.0\my.ini"
mysqladmin shutdown -u root -p
REM mysqladmin 可以查看帮助文件
```